library("dplyr")
library("dplyr")
library(dplyr)
tweets.nuevos <-  tweets.nuevos %>%
mutate(text         = Limpiar_texto(text),
retweet_text = Limpiar_texto(retweet_text),
extraccion   = Sys.Date())
install.packages("dplyr")
library("dplyr")
library("tidyr")
tweets.nuevos <-  tweets.nuevos %>%
mutate(text         = Limpiar_texto(text),
retweet_text = Limpiar_texto(retweet_text),
extraccion   = Sys.Date())
# Juntamos la nueva informacion con la antigua
historico.tweets <- actualizar_informacion(historico.tweets, tweets.nuevos, 1 )
install.packages("ROAuth")
# Librerias necesarias
library("ROAuth")
source("R/inicio_twitter.R")
library("twitteR")
library("rtweet")
# Inicializamos todo lo necesario
source("R/librerias.R")
source("R/inicio_twitter.R")
source("R/variables_globales.R")
# Obtenemos la ultima informacion de los ultimos tweets
tweets.nuevos <- get_timeline(user = users,
n    = 3,
home = FALSE) %>% filter(created_at < primer.dia.mes)# Consulta los tweets publicados por user (TRUE= los tweets publicados por las cuentas que sigue)
tweets.nuevos <-  tweets.nuevos %>%
mutate(text         = Limpiar_texto(text),
retweet_text = Limpiar_texto(retweet_text),
extraccion   = Sys.Date())
# Juntamos la nueva informacion con la antigua
historico.tweets <- actualizar_informacion(historico.tweets, tweets.nuevos, 1 )
tweets.nuevos <- get_timeline(user = users,
n    = 300,
home = FALSE) %>% filter(created_at < primer.dia.mes)
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE)
seguidores.list
names(seguidores.list=users)
users
names(seguidores.list)=users
seguidores.list
# Juntamos los seguidores en un data.frame
seguidores <- do.call(union,seguidores.list)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(rbind,seguidores.list)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(union,seguidores.list)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(union_all,seguidores.list)
union(seguidores.list)
union(seguidores.list,seguidores.list)
union(.seguidores.list)
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers %>% rbind("RS"),
n = 3,
retryonratelimit = TRUE)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(rbind,seguidores.list)
seguidores
unnest(seguidores.list)
x=tribble(
~colA, ~colB,
"a",   1,
"b",   2,
"c",   3
)
x
tribble(
~x,  ~y,
"a", 1:3,
"b", 4:6
)
tribble(~users,~seguidores.list)
users
tibble(max = c(3, 4, 5), seq = list(1:3, 1:4, 1:5))
names(seguidores.list)="a"
seguidores.list
seguidores.list2 <- map2(seguidores.list,users,rbind)
library(purrr)
seguidores.list2 <- map2(seguidores.list,users,rbind)
seguidores.list2
seguidores.list2 <- map2(seguidores.list,users,cbind)
seguidores.list2
seguidores.list2[[1]]
a=seguidores.list2[[1]]
a[,2]
a[1,]
names(a)
seguidores.list2 <- map2(seguidores.list,users=users,cbind)
seguidores.list2 <- map2(seguidores.list,.y=users,cbind)
seguidores.list2
seguidores.list2 <- map2(seguidores.list, users, bind_cols)
seguidores.list2 <- map2(seguidores.list, users, bind_cols)
seguidores.list2 <- map2(seguidores.list, users, cbind)
seguidores.list2 <- map2(seguidores.list, users, .f=bind_cols)
seguidores.list2 <- map2(seguidores.list, .y=users, .f=bind_cols)
seguidores.list2 <- map2(seguidores.list, users, bind_cols)
seguidores.list2 <- map2(seguidores.list, users, ~bind_cols)
seguidores.list2
seguidores.list2 <- map2(seguidores.list, users, .~bind_cols)
seguidores.list2 <- map2(seguidores.list, users, cbind)
seguidores.list2
seguidores.list2 <- map2(seguidores.list, users, bind_cols)
seguidores.list2 <- map2(seguidores.list, list(users), bind_cols)
list(users)
as.list(users)
seguidores.list2 <- map2(seguidores.list, as.list(users), bind_cols)
es=as.list(users)
seguidores.list2 <- map2(seguidores.list, es, bind_cols)
seguidores.list2 <- map2(seguidores.list, users, cbind)
seguidores.list2
seguidores.list2 <- map2(seguidores.list, users, ~.bind_cols)
seguidores.list2 <- map2(seguidores.list, users, ~. bind_cols)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(rbind,seguidores.list2)
seguidores
seguidores %>% mutate(origen=row.names())
seguidores %>% mutate(origen=row.names
)
seguidores %>% mutate(origen=row.names)
seguidores %>% mutate(origen=row.names(seguidores))
seguidores
bind_cols(seguidores,seguidores[,2]
)
cbind(seguidores,seguidores[,2])
cbind(seguidores,a=seguidores[,2])
bind_cols(seguidores,a=seguidores[,2])
# Juntamos los seguidores en un data.frame
seguidores <- do.call(union,seguidores.list)
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%  map2( users, cbind)
seguidores.list
lookup_users("Generalitat")
info.users=lookup_users("Generalitat")
info.users <- left_join(info.users, seguidores, by="user_id") %>%  arrange(statuses_count)
info.users
seguidores %>% select(user_id) %>% distinct
seguidores.unicos <- seguidores %>% select(user_id) %>% distinct()
c
q
q
qd
wq
xq
we
er
wer
vw
w
rvc
yv
ytr
bty
ur
ygv
yb5
6
56
5
q
<zd
zx
werg
rehv
ytu
nkui
u
ñ,
o
bn
uj
ecx
<
z2
4r
ç
m oi
seguidores.unicos <- seguidores %>% select(user_id) %>% distinct()
menciones  = apply( paste("@",users,sep=""), 2,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
users
menciones  = apply( paste("@",users,sep=""), 2,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
menciones  = apply( paste("@",users,sep=""), 2,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE)
paste("@",users,sep="")
paste("@",usuarios$users,sep="")
menciones  = apply( paste("@",users,sep=""), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
menciones  = apply( paste("@",users,sep=""), 1,
search_tweets,
n      = 2) %>%
mutate(citation = users)
menciones  = apply( paste("@",users,sep=""),
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
menciones  = apply( paste("@",users,sep=""),
FUN=search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
a=
paste("@",users,sep="")
dim(a)
dim(as.tibble(a))
dim(as_tibble(a))
menciones  = apply( as_tibble(paste("@",users,sep="")), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
mutate(citation = users)
menciones
menciones  = apply( as_tibble(paste("@",users,sep="")), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE)
menciones
menciones  = apply( as_tibble(paste("@",users,sep="")), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
map2( users, cbind)
menciones
men <- do.call(rbind, menciones)
men
menciones  = apply( as_tibble(paste("@",users,sep="")), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE)
menciones
menciones  = apply( as_tibble(paste("@",users,sep="")), 1,
search_tweets,
n      = 2,
lang   = "es",
retryonratelimit = TRUE) %>%
map2( users, cbind)
menciones
# Inicializamos todo lo necesario
source("R/librerias.R")
source("R/inicio_twitter.R")
source("R/variables_globales.R")
source("R/funciones.R")
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users, cbind)
seguidores.list
# Obtenemos los seguidores de cada user en un elemento de la lista
seguidores.list <- apply(users, 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users, cbind)
users
dim(users)
map(users,get_followers)
library(tidyverse)
library("tidyverse")
library("tidyr")
map(users,get_followers)
get_followers(users)
users[[1]]
users[[2]]
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE)
menciones.nuevas <- sapply( paste("@", users, sep = ""),
search_tweets,
n      = 3,
lang   = "es",
retryonratelimit = TRUE,
simplify = FALSE)
menciones.nuevas
rownames(menciones.nuevas)
names(menciones.nuevas)
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users,add_column)
seguidores.list
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( usuarios[,"users"],add_column)
# Inicializamos todo lo necesario
source("R/librerias.R")
source("R/inicio_twitter.R")
source("R/variables_globales.R")
source("R/funciones.R")
source("R/variables_globales.R")
library(lubridate)
source("R/variables_globales.R")
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( cuenta = usuarios[,"users"],add_column)
seguidores.list
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users,rbind)
menciones.nuevas
seguidores.list
seguidores.list <- apply(usuarios[,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users,rbind)
seguidores.list
seguidores.list <- apply(usuarios[1:2,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( users[1:2],rbind)
seguidores.list
seguidores.list <- apply(usuarios[1:2,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( usuarios[1:2,"users"],rbind)
seguidores.list
usuarios[1:2,"users"]
seguidores.list <- apply(usuarios[1:2,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE) %>%
map2( list(users[1:2]),rbind)
seguidores.list
seguidores.list <- apply(usuarios[1:2,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE)
list(users[1:2])
list(users)
as.list(users)
as.list(users[1:2])
seguidores.list %>% map2( as.list(users[1:2]),rbind)
seguidores.list %>% map2( as.list(users[1:2]),cbind)
seguidores.list %>% map2( users,cbind)
seguidores.list %>% map2( users[1:2],cbind)
seguidores.list %>% map2( cuenta=users[1:2],cbind)
seguidores.list %>% map2(users[1:2],cbind)
seguidores.list %>% map2(users[1:2],bind_cols)
seguidores.list <- sapply(usuarios[1:2,"users"], 1 ,get_followers,
n = 3,
retryonratelimit = TRUE)
seguidores.list <- sapply(usuarios[1:2,"users"] ,get_followers,
n = 3,
retryonratelimit = TRUE)
seguidores.list <- sapply(users ,get_followers,
n = 3,
retryonratelimit = TRUE)
seguidores.list <- sapply(users[1:2] ,get_followers,
n = 3,
retryonratelimit = TRUE)
seguidores.list %>% map2(users[1:2],cbind)
seguidores.list <- sapply(users[1:2] ,get_followers,
n = 3,
retryonratelimit = TRUE,
simplify = FALSE)
seguidores.list %>% map2(users[1:2],cbind)
seguidores.list %>% map2(a=users[1:2],cbind)
seguidores.list %>% map2(.y=users[1:2],cbind)
seguidores <- do.call(rbind,seguidores.list)
seguidores
# Obtenemos los seguidores de cada user en un elemento de la lista
seguidores.list <- sapply(users ,get_followers,
n = 3,
retryonratelimit = TRUE,
simplify = FALSE) %>%
map2(users,cbind)
# Juntamos los seguidores en un data.frame
seguidores <- do.call(rbind,seguidores.list)
seguidores
seguidores.list <- sapply(users ,get_followers,
n = 3,
retryonratelimit = TRUE,
simplify = FALSE)
seguidores.list
seguidores <- do.call(rbind,seguidores.list)
seguidores
a=map2(seguidores.list,users,cbind)
a
do.call(rbind,a)
rownames(seguidores) = NULL
seguidores
menciones.nuevas <- sapply( paste("@", users, sep = ""),
search_tweets,
n      = 3,
lang   = "es",
retryonratelimit = TRUE,
simplify = FALSE) %>%
map2( users,rbind)
menciones.nuevas
View(menciones.nuevas[[1]])
# Obtenemos la ultima informacion de las ultimas menciones
menciones.nuevas <- sapply( paste("@", users, sep = ""),
search_tweets,
n      = 3,
lang   = "es",
retryonratelimit = TRUE,
simplify = FALSE) %>%
map2( users,cbind)
View(menciones.nuevas[[1]])
menciones.nuevas[[1]]
menciones.nuevas[[1]]$status_id
menciones <- do.call(rbind, menciones.nuevas)
menciones
seguidores.list
menciones.nuevas
names(menciones)
rename(menciones,".y[[i]]","origen")
library(dplyr)
rename(menciones,origen=.y[[i]])
rename(menciones,origen=".y[[i]]")
menciones.nuevas[1,1]
menciones[1,1]
names(menciones)
# Inicializamos todo lo necesario
source("R/librerias.R")
source("R/inicio_twitter.R")
1-0.95^3
1-0.95^4
medidas <- c(6, 3, 6, 5, 6, 3, 6, 4, 5, 2, 7, 5, 6, 7, 10, 7, 4, 6, 7, 7, 11, 8, 7, 9, 7, 9, 8, 8, 11, 9)
grupo <- rep(c("A","B","C"),c(10,10,10))
medidas <- c(6, 3, 6, 5, 6, 3, 6, 4, 5, 2, 7, 5, 6, 7, 10, 7, 4, 6, 7, 7, 11, 8, 7, 9, 7, 9, 8, 8, 11, 9)
grupo <- rep(c("A","B","C"),c(10,10,10))
datos=data.frame(medidas, grupo)
datos
# Inicializamos todo lo necesario
source("R/librerias.R")
aov(datos$medidas~datos$grupo)
a=aov(datos$medidas~datos$grupo)
plot(a)
plot(a)
w=c(11, 8, 7, 9, 7, 9, 8, 8, 11, 9)
w=c(11, 8, 7, 9, 7, 9, 8, 8, 11, 9)
poisson.test(w,10)
poisson.test(w,r=10)
poisson.test(sum(w),10,r=10)
a
summary(a)
shapiro.test(w)
q=c(6, 3, 6, 5, 6, 3, 6, 4, 5, 2)
q2=c( 7, 5, 6, 7, 10, 7, 4, 6, 7, 7)
shapiro.test(q)
shapiro.test(q2)
attach(datos1)
medidas <- c(6, 3, 6, 5, 6, 3, 6, 4, 5, 2, 7, 5, 6, 7, 10, 7, 4, 6, 7, 7, 11, 8, 7, 9, 7, 9, 8, 8, 11, 9)
grupo <- rep(c("A","B","C"),c(10,10,10))
datos1=data.frame(medidas, grupo)
attach(datos1)
bartlett.test(medidas,grupo)
medidas.A=medidas[1,10]
medidas.A=medidas[1:10]
medidas.A=medidas[1:10]
medidas.B=medidas[11:20]
medidas.C=medidas[21:30]
shapiro.test(medidas.A)
shapiro.test(medidas.B)
shapiro.test(medidas.C)
modelo= aov(medidas~grupo)
modelo
summary.aov(modelo)
model.tables ( modelo , type = " means " )
model.tables ( modelo , type = "means" )
model.tables ( modelo , type = "effects" )
par ( mfrow = c (2 ,2)); plot ( modelo )
par ( mfrow = c (2 ,2)); plot ( modelo )
plot ( modelo$model$grupo , modelo$residuals )
plot ( modelo$model$grupo , modelo$residuals )
plot(modelo$residuals)
par ( mfrow = c (2 ,2)); plot ( modelo )
par ( mfrow = c (2 ,2)); plot ( modelo )
par ( mfrow = c (2 ,2)); plot ( modelo )
plot ( modelo$model$grupo , modelo$residuals )
par ( mfrow = c (2 ,2)); plot ( modelo )
plot ( modelo$model$grupo , modelo$residuals )
plot ( modelo$model$grupo , modelo$residuals )
modelo$model$grupo
plot (  modelo$residuals )
par ( mfrow = c (2 ,2)); plot ( modelo )
plot ( modelo$residuals )
plot ( modelo )
plot ( modelo )
kruskal.test(medidas,grupo)
kruskal.test(medidas,grupo)
grup=rep(c(1,2,3),c(10,10,10))
kruskal.test(medidas,grup)
